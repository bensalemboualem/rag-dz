# ==============================================
# RAG.dz Environment Configuration
# ==============================================

# ==============================================
# Sécurité Backend (OBLIGATOIRE)
# ==============================================
API_SECRET_KEY=your-secret-key-here-min-32-chars
POSTGRES_PASSWORD=your-secure-password-here
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8180,http://localhost:3737

# ==============================================
# Rate Limiting
# ==============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10
ENABLE_RATE_LIMITING=true

# ==============================================
# Database Configuration
# ==============================================
POSTGRES_USER=postgres
POSTGRES_DB=archon
POSTGRES_URL=postgresql://postgres:YOUR_PASSWORD@localhost:6330/archon

# Supabase (Cloud PostgreSQL + PGVector)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-supabase-service-key-here

# ==============================================
# Redis Configuration
# ==============================================
REDIS_URL=redis://localhost:6331/0
REDIS_PASSWORD=

# ==============================================
# Qdrant Configuration
# ==============================================
QDRANT_HOST=qdrant
QDRANT_PORT=6332
QDRANT_API_KEY=

# ==============================================
# Embeddings Configuration
# ==============================================
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-mpnet-base-v2
EMBEDDING_DEVICE=cpu
EMBEDDING_BATCH_SIZE=32

# ==============================================
# Service Configuration
# ==============================================
SERVICE_NAME=rag-dz-api
SERVICE_VERSION=1.0.0
LOG_LEVEL=INFO
ENVIRONMENT=development

# ==============================================
# Feature Flags
# ==============================================
ENABLE_CORS=true
ENABLE_METRICS=true
ENABLE_API_KEY_AUTH=false

# ==============================================
# Frontend Configuration
# ==============================================
VITE_API_URL=http://localhost:8180
VITE_WS_URL=ws://localhost:8180/ws
VITE_API_KEY=
VITE_ENABLE_DEV_TOOLS=true
VITE_SHOW_DEVTOOLS=true

# ==============================================
# Monitoring
# ==============================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# ==============================================
# Cloud LLM Configuration (REQUIRED for RAG generation)
# ==============================================
# Choose provider: openai, anthropic, deepseek, groq
LLM_PROVIDER=anthropic
LLM_MODEL=claude-3-5-sonnet-20241022
ENABLE_LLM=true

# OpenAI
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic Claude (Recommandé pour BMAD/Archon)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# DeepSeek (Économique et performant)
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# ==============================================
# Autres AI Providers (Pour Bolt.diy et intégrations futures)
# ==============================================
GROQ_API_KEY=gsk_your-groq-key-here
GOOGLE_GENERATIVE_AI_API_KEY=AIzaSy-your-google-key-here
MISTRAL_API_KEY=your-mistral-key-here
COHERE_API_KEY=your-cohere-key-here
TOGETHER_API_KEY=your-together-key-here
OPEN_ROUTER_API_KEY=sk-or-v1-your-openrouter-key-here

# ==============================================
# NOUVELLES FONCTIONNALITÉS D'ARCHON
# ==============================================

# Reranking - Améliore la pertinence des résultats
USE_RERANKING=true
RERANKING_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RERANKING_TOP_K=10

# PGVector - Recherche vectorielle dans PostgreSQL
USE_PGVECTOR=true

# Meilisearch
MEILI_URL=http://meilisearch:7700
MEILI_MASTER_KEY=ragdzMasterKey2024

# Docker environment indicator
DOCKER_ENV=true

# ==============================================
# n8n Workflow Automation
# ==============================================
N8N_HOST=http://localhost:5678
N8N_API_KEY=
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=admin
N8N_BASIC_AUTH_ACTIVE=true
N8N_WEBHOOK_URL=http://localhost:5678

# Frontend n8n connection
VITE_N8N_HOST=http://localhost:5678
VITE_N8N_API_KEY=

# ==============================================
# Google OAuth2 & API Integration
# ==============================================
# Créez un projet sur https://console.cloud.google.com
# Activez Calendar API et Gmail API
# Créez des credentials OAuth2 (Web application)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3737/auth/google/callback

# Frontend Google connection
VITE_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com

# ==============================================
# Twilio SMS Integration
# ==============================================
# Créez un compte sur https://www.twilio.com
# Récupérez vos credentials dans la console
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# ==============================================
# WhatsApp via Twilio
# ==============================================
# Pour sandbox: whatsapp:+14155238886 (numéro Twilio sandbox)
# Pour production: whatsapp:+votre-numero-business
# Les destinataires doivent d'abord envoyer "join <code>" au numéro sandbox
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# ==============================================
# LLM COUNCIL - Multi-AI Deliberation System
# ==============================================
# Permet de consulter plusieurs modèles d'IA simultanément
# pour des décisions plus robustes et analyses approfondies

# Configuration Council
COUNCIL_ENABLE_REVIEW=false
COUNCIL_CHAIRMAN=claude

# Ollama (pour modèles locaux souverains)
OLLAMA_BASE_URL=http://iafactory-ollama:11434

# Note: Les clés ANTHROPIC_API_KEY et GOOGLE_GENERATIVE_AI_API_KEY
# sont partagées avec la configuration principale ci-dessus

# Perplexity (for Council)
PERPLEXITY_API_KEY=pplx-your-key-here

# ═══════════════════════════════════════════════════════════════════
# IA FACTORY - ENVIRONMENT VARIABLES
# Copier ce fichier vers .env et remplir les valeurs
# ═══════════════════════════════════════════════════════════════════

# API KEYS (REQUIRED)
ANTHROPIC_API_KEY=sk-ant-xxx
OPENAI_API_KEY=sk-xxx

# DATABASE
DATABASE_URL_CH=postgresql://iafactory:password@infomaniak-host:5432/iafactory_ch
DATABASE_URL_DZ=postgresql://iafactory:password@icosnet-host:5432/iafactory_dz
REDIS_URL=redis://localhost:6379
QDRANT_URL=http://localhost:6333

# HOSTING
INFOMANIAK_API_KEY=xxx
ICOSNET_API_KEY=xxx

# NOTIFICATIONS
BOUALEM_EMAIL_CH=contact@iafactory.ch
BOUALEM_EMAIL_DZ=contact@iafactoryalgeria.com
BOUALEM_PHONE=+41xxxxxxxxx
SLACK_WEBHOOK=https://hooks.slack.com/xxx

# SOCIAL MEDIA (OPTIONAL)
LINKEDIN_ACCESS_TOKEN=xxx
TWITTER_API_KEY=xxx
TWITTER_API_SECRET=xxx
INSTAGRAM_USERNAME=xxx
INSTAGRAM_PASSWORD=xxx

# APP CONFIG
DEBUG=false
SECRET_KEY=generate-secure-key-here
