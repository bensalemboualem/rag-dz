{
  "permissions": {
    "allow": [
      "Bash(grep:*)",
      "Bash(ssh -o StrictHostKeyChecking=no -o ConnectTimeout=10 root@46.224.3.125 \"hostname && pwd && whoami\")",
      "Bash(ssh:*)",
      "Bash(test:*)",
      "Bash(tar czf:*)",
      "Bash(ver:*)",
      "Bash(printenv:*)",
      "Bash(rsync:*)",
      "Bash(scp:*)",
      "Bash(curl:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(echo:*)",
      "Bash(git rev-parse:*)",
      "Bash(cat:*)",
      "Bash(docker-compose build:*)",
      "Bash(powershell -Command \"Start-Process ''C:\\Program Files\\Docker\\Docker\\Docker Desktop.exe''\")",
      "Bash(timeout /t 30 /nobreak)",
      "Bash(docker info:*)",
      "Bash(tee:*)",
      "Bash(docker compose build:*)",
      "Bash(docker images:*)",
      "Bash(docker ps:*)",
      "Bash(docker system:*)",
      "Bash(docker compose:*)",
      "Bash(pkill -f \"docker compose build\")",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(Get-Process)",
      "Bash(Where-Object {$_rocessName -like \"*docker*\" -or $_rocessName -like \"*com.docker*\"})",
      "Bash(Select-Object ProcessName, CPU, WorkingSet)",
      "Bash(Format-Table)",
      "Bash(docker network create:*)",
      "Bash(docker logs:*)",
      "Bash(docker exec:*)",
      "Bash(docker cp:*)",
      "Bash(git remote:*)",
      "Bash(nslookup:*)",
      "Bash(dig:*)",
      "Bash(pip install:*)",
      "Bash(python:*)",
      "Bash(ping:*)",
      "Bash(timeout 15 ssh:*)",
      "Bash(tar:*)",
      "Bash(bash deploy-to-vps.sh:*)",
      "Bash(ssh -o ConnectTimeout=10 root@46.224.3.125 \"curl -s https://www.iafactoryalgeria.com/dzirvideo/docs | grep -A 2 ''openapi_url:''\")",
      "Bash(npx create-next-app:*)",
      "Bash(npx shadcn@latest init:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(npm install:*)",
      "Bash(npm run dev:*)",
      "Bash(scp \"d:\\IAFactory\\rag-dz\\apps\\dzirvideo\\src\\api.py\" root@46.224.3.125:/opt/dzirvideo/src/api.py)",
      "Bash(python3:*)",
      "Bash(if [ -f \"d:\\IAFactory\\rag-dz\\apps\\dzirvideo\\.env\" ])",
      "Bash(then grep -i \"alibaba\\|dashscope\" \"d:\\IAFactory\\rag-dz\\apps\\dzirvideo\\.env\")",
      "Bash(ssh -o ConnectTimeout=10 root@46.224.3.125 \"ps aux | grep ''docker-compose build'' | grep -v grep\")",
      "Bash(git log:*)",
      "Bash(code --install-extension:*)",
      "Bash(code:*)",
      "Bash(start http://localhost:8080/demo.html)",
      "Bash(python -m http.server:*)",
      "Bash(start:*)",
      "Bash(docker-compose restart:*)",
      "Bash(done)",
      "Bash(for dir in med-dz agri-dz commerce-dz prof-dz legal-assistant)",
      "Bash(do if [ -f \"$dir/index.html\" ])",
      "Bash(then echo \"$dir: ‚úÖ index.html\")",
      "Bash(else echo \"$dir: ‚ùå missing\")",
      "Bash(fi)",
      "Bash(netstat:*)",
      "Bash(for app in business-dz med-dz agri-dz commerce-dz prof-dz legal-assistant)",
      "Bash(do)",
      "Bash(if [ -d \"apps/$app\" ])",
      "Bash(then)",
      "Bash(else)",
      "Bash(if [ -f \"apps/$app/index.html\" ])",
      "Bash(for app in business agri commerce prof legal med)",
      "Bash(do echo -n \"$app: \" if ls backend/rag-compat/app/routers/)",
      "Bash(for file in \"apps/landing/docs/rag-assistants.html\" \"apps/landing/docs/developer-tools.html\" \"apps/landing/docs/directory/ia-tools.html\" \"apps/landing/docs/directory/daily-news.html\")",
      "Bash(do if [ -f \"$file\" ])",
      "Bash(then echo \"‚úÖ EXISTS: $file\")",
      "Bash(else echo \"‚ùå MISSING: $file\")",
      "Bash([ -f \"apps/landing/docs/newsletter.html\" ])",
      "Bash(timeout 10 npm run dev:*)",
      "Bash(npm run build:*)",
      "Bash(bash:*)",
      "Bash(do if [ -d \"apps/$app\" ])",
      "Bash(then echo \"$app: ‚úÖ EXISTS\")",
      "Bash(else echo \"$app: ‚ùå MISSING\")",
      "Bash(for app in agents-ia can2025 news-dz sport-magazine)",
      "Bash(do if [ -d \"apps/$app/.next\" ])",
      "Bash(then echo \"$app: ‚úÖ BUILD OUTPUT\")",
      "Bash(else echo \"$app: ‚ùå NO BUILD\")",
      "Bash(node convert-icons.js:*)",
      "Bash(npx web-push:*)",
      "Bash(ls:*)",
      "Bash(taskkill:*)",
      "Bash([ -f INVENTAIRE_COMPLET_RAG-DZ.md ])",
      "Bash(git clone:*)",
      "Bash(chmod:*)",
      "Bash(psql:*)",
      "Bash(docker-compose up:*)",
      "Bash([ -f backend/rag-compat/app/dependencies.py ])",
      "Bash(powershell -Command \"Write-Host ''Attente du d√©marrage de Docker Desktop (30 secondes)...''; Start-Sleep -Seconds 30; docker ps\")",
      "Bash(powershell -Command \"Write-Host ''Attente de la disponibilit√© de PostgreSQL (30 secondes)...''; Start-Sleep -Seconds 30\")",
      "Bash(docker exec -i iaf-dz-postgres psql -U postgres -d iafactory_dz <<'EOF'\nSELECT enable_superadmin_mode();\n\nINSERT INTO tenants (name, slug, region, plan, status, admin_email, metadata)\nVALUES (\n    'IAFactory Demo',\n    'iafactory-demo',\n    'DZ',\n    'pro',\n    'active',\n    'admin@iafactory.dz',\n    '{\"type\": \"demo\", \"description\": \"Compte d√©mo IAFactory Alg√©rie\"}'::jsonb\n)\nRETURNING id, name, slug, region, plan, status;\nEOF)",
      "Bash(python -m uvicorn:*)",
      "Bash(powershell -Command:*)",
      "Bash(python test_backend.py:*)",
      "Bash(python test_voice_agent.py:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ2b2NhbC5kZW1vQGlhZmFjdG9yeS5keiIsInVzZXJfaWQiOjMsInRlbmFudF9pZCI6IjgxNGMxMzJhLTFjZGQtNGRiNi1iYzFmLTIxYWJkMjFlYzM3ZCIsImV4cCI6MTc2NTkxNTc4MSwiaWF0IjoxNzY1OTEzOTgxfQ.oj-ZnumGWywI_14W05mBxQMEfzMQ_UHL5rjHSuSvmHM\")",
      "Bash(__NEW_LINE__ curl -X POST \"http://127.0.0.1:8001/api/voice-agent/transcribe\" )",
      "Bash(powershell -Command \"Get-Process python | Where-Object {$_Id -ne $PID} | Select-Object Id,CPU,StartTime | Format-Table\")",
      "Bash(python test_repository_direct.py:*)",
      "Bash(python test_repo_with_dates.py:*)",
      "Bash(timeout 5 python:*)",
      "Bash(python test_token_system.py:*)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File kill_port_8002.ps1)",
      "Bash(python test_balance_direct.py:*)",
      "Bash(python test_rls_isolation.py:*)",
      "Bash(timeout 10 python:*)",
      "Bash(PGPASSWORD=ragdz123456 psql:*)",
      "Bash(python -c:*)",
      "Bash(powershell.exe -ExecutionPolicy Bypass -Command \"Write-Host ''================================'' -ForegroundColor Cyan; Write-Host ''üöÄ D√âPLOIEMENT ULTRA-AUTO - PR√äT!'' -ForegroundColor Cyan; Write-Host ''================================'' -ForegroundColor Cyan; Write-Host ''''; Write-Host ''üìã Fichiers cr√©√©s:'' -ForegroundColor Green; Write-Host ''  ‚úÖ LANCER_DEPLOIEMENT.bat'' -ForegroundColor White; Write-Host ''  ‚úÖ deploy-ultra-auto.ps1'' -ForegroundColor White; Write-Host ''  ‚úÖ deploy-ultra-auto.sh'' -ForegroundColor White; Write-Host ''  ‚úÖ full_setup.sh'' -ForegroundColor White; Write-Host ''''; Write-Host ''üåê Repository:'' -ForegroundColor Yellow; Write-Host ''  https://github.com/bensalemboualem/rag-dz'' -ForegroundColor White; Write-Host ''''; Write-Host ''üéØ VPS IP:'' -ForegroundColor Yellow; Write-Host ''  46.224.3.125'' -ForegroundColor White; Write-Host ''''; Write-Host ''‚ú® Commits r√©cents:'' -ForegroundColor Cyan; git log --oneline -5; Write-Host ''''; Write-Host ''üöÄ PR√äT POUR LE LANCEMENT!'' -ForegroundColor Green\")",
      "Bash(powershell.exe -Command \"Start-Process -FilePath ''.\\LANCER_DEPLOIEMENT.bat'' -Verb RunAs\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -Command \"& ''.\\CORRIGER_VPS_MAINTENANT.ps1''\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -File \"fix-vps-simple.ps1\")",
      "Bash(powershell.exe -ExecutionPolicy Bypass -Command \"\n$plink = ''C:\\Program Files\\PuTTY\\plink.exe''\nif (!(Test-Path $plink)) {\n    $plink = \"\"$env:TEMP\\plink.exe\"\"\n    if (!(Test-Path $plink)) {\n        Write-Host ''T√©l√©chargement plink...''\n        Invoke-WebRequest -Uri ''https://the.earth.li/~sgtatham/putty/latest/w64/plink.exe'' -OutFile $plink\n    }\n}\n\nWrite-Host ''Connexion au VPS...'' -ForegroundColor Green\necho y | & $plink -batch -pw ''Ainsefra+0819692025'' root@46.224.3.125 ''echo \"\"=== DIAGNOSTIC VPS ===\"\" && docker ps 2>/dev/null || echo \"\"Docker pas install√©\"\" && echo \"\"\"\" && ls -la ~/rag-dz 2>/dev/null || echo \"\"Code pas clon√©\"\"''\n\")",
      "Bash(powershell.exe:*)",
      "Bash(cmd.exe /c \"fix-vps-simple.bat\")",
      "Bash(powershell -File:*)",
      "Bash(ssh root@46.224.3.125 \"echo ''‚úÖ Connexion r√©ussie!'' && uname -a && uptime\")",
      "Bash(pwsh:*)",
      "Bash(timeout 30 powershell.exe:*)",
      "Bash(ssh root@46.224.3.125 \"echo ''=== BASES DE DONN√âES ==='' && echo ''PostgreSQL:'' && docker exec 9853451b4254_iaf-dz-postgres psql -U ragdb -c ''\\l'' 2>/dev/null | grep -E ''Name|ragdb'' && echo '''' && echo ''MongoDB:'' && docker exec ia-factory-mongodb mongosh --quiet --eval ''db.adminCommand({ listDatabases: 1 })'' 2>/dev/null | head -10 && echo '''' && echo ''Redis:'' && docker exec 56f3582f446c_iaf-dz-redis redis-cli info | grep -E ''redis_version|connected_clients|used_memory_human''\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"echo ''‚úÖ CONNEXION SSH R√âUSSIE!'' && echo '''' && echo ''üìä Syst√®me:'' && uname -a && echo '''' && echo ''‚è±Ô∏è Uptime:'' && uptime && echo '''' && echo ''üíæ Disque:'' && df -h / | tail -1 && echo '''' && echo ''üß† M√©moire:'' && free -h | grep Mem && echo '''' && echo ''üê≥ Docker:'' && docker ps --format ''table {{.Names}}\\t{{.Status}}'' 2>/dev/null && echo '''' && echo ''üåê Nginx:'' && systemctl is-active nginx 2>/dev/null && echo '''' && echo ''üîê SSL:'' && certbot certificates 2>/dev/null | grep -E ''Certificate Name|Domains|Expiry Date'' | head -6\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"pwd && whoami && echo ''‚úÖ Session SSH active - Pr√™t pour vos commandes!''\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"find /root -type d -name ''*voice*'' -o -name ''*vocal*'' -o -name ''*agent*'' 2>/dev/null | head -20\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"ls -la /root/rag-dz/apps/ | grep -i voice && echo '''' && docker ps | grep -i voice\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"ls /root/rag-dz/apps/ 2>/dev/null | grep -E ''voice|vocal'' || echo ''Pas dans apps/'' && echo '''' && docker ps --format ''{{.Names}}'' | grep -i voice\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"find /root -type d -name ''voice-assistant'' -o -name ''agent-vocal'' 2>/dev/null | head -10 && echo '''' && docker inspect iaf-voice-assistant-prod --format ''{{.Mounts}}'' 2>/dev/null | grep -o ''/[^ ]*voice[^ ]*'' | head -5\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"sed -i ''s|/etc/letsencrypt/live/www.iafactoryalgeria.com/|/etc/letsencrypt/live/voice.iafactoryalgeria.com/|g'' /etc/nginx/sites-available/voice.iafactoryalgeria.com && nginx -t && systemctl reload nginx && echo ''‚úÖ SSL OK''\")",
      "Bash(ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null root@46.224.3.125 \"curl -sk https://voice.iafactoryalgeria.com/api/voice-agent/health\")",
      "Bash(dir:*)",
      "Bash(curl -s http://46.224.3.125:8180/api/agents/health)",
      "Bash(copy \"d:\\\\IAFactory\\\\rag-dz\\\\apps\\\\landing\\\\components\\\\header-styles.css\" \"d:\\\\IAFactory\\\\rag-dz\\\\frontend\\\\shared\\\\components\\\\header-styles.css\")",
      "Bash(xargs:*)",
      "Bash(python scripts/migrate-apps-to-unified.py:*)",
      "Bash(for f in d:/IAFactory/rag-dz/apps/*/index.html)",
      "Bash(do grep -q \"iafactory-unified\" \"$f\")",
      "Bash(do if ! grep -q \"iafactory-unified\" \"$f\")",
      "Bash(then dirname \"$f\")",
      "Bash(xargs basename:*)",
      "Bash(do if ! grep -q \"iaf-header\" \"$f\")",
      "Bash(npm install)",
      "Bash(npx next dev:*)",
      "Bash(timeout /t 8)",
      "Bash(copy \"d:\\\\IAFactory\\\\rag-dz\\\\apps\\\\landing\\\\assets\\\\images\\\\lala-fatma.png\" \"d:\\\\IAFactory\\\\rag-dz\\\\frontend\\\\ia-factory-ui\\\\public\\\\assets\\\\images\\\\lala-fatma.png\")",
      "Bash(copy:*)",
      "Bash(timeout /t 10)",
      "Bash(tasklist /FI \"WINDOWTITLE eq *vite*\" /FO LIST)",
      "Bash(docker-compose logs:*)",
      "Bash(docker-compose down:*)",
      "Bash(Start-Sleep -Seconds 10)"
    ],
    "deny": [],
    "ask": []
  }
}
